<ion-content padding>

  <ion-grid class="page-header-logo">
    <ion-row align-items-center>
      <ion-col text-right>
        <img src="assets/imgs/logo.png">
      </ion-col>
      <ion-col text-left>
        <h5>特易行</h5>
        <p class="text-sm"> 特别省心的旅行</p>
      </ion-col>
    </ion-row>
  </ion-grid>


  <h4 ion-text text-center>
    账号登录
  </h4>

  <form [formGroup]="loginForm">
    <ion-list>
      <ion-item>
        <ion-label floating>
          <ion-icon name="person" item-start></ion-icon>
          邮箱或手机
        </ion-label>
        <ion-input type="text" formControlName="emailPhone"></ion-input>
      </ion-item>
      <p ion-text color="danger" class="text-1x has-error" *ngIf="loginForm.get('emailPhone').touched && loginForm.get('emailPhone').hasError('required')">请输入邮箱或手机</p>

      <ion-item>
        <ion-label floating>
          <ion-icon name="lock" item-start></ion-icon>
          登录密码
        </ion-label>
        <ion-input [type]="passwordType" formControlName="password"></ion-input>

        <!-- ion-icon alone doesn't fire click event. It is an ionic bug to be fixed 
        <ion-icon item-end (click)="togglePassword()" [name]="passwordShown? 'eye' : 'eye-off'"></ion-icon>
        -->
      </ion-item>
      <p ion-text color="danger" class="text-1x has-error" *ngIf="loginForm.get('password').touched && loginForm.get('password').hasError('required')">请输入登录密码</p>
    </ion-list>
  </form>

  <p text-right ion-text tappable color="light" (click)="resetPassword()">
    <strong>重置密码</strong>
  </p>

  <div>
    <button ion-button icon-start block color="secondary" (click)="login()" [disabled]="!loginForm.valid">
      <ion-icon name="log-in"></ion-icon>
      登录
    </button>
  </div>

</ion-content>
